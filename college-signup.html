<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CampusQuest â€“ College Signup</title>
  <link rel="icon" href="./Images/scholarship.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', Arial, sans-serif; background: #f5f7fa; margin: 0; padding: 0; color: #222; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; background-color: #0a58ca; color: #fff; }
    header button { background: #fff; color: #0a58ca; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-weight: 600; }
    header nav a { color: #fff; text-decoration: none; margin-left: 16px; font-weight: 500; }
    main { max-width: 700px; margin: 32px auto; background: #fff; padding: 32px; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.1); }
    h1 { text-align: center; margin-bottom: 24px; color: #0a58ca; }
    form { display: flex; flex-direction: column; gap: 16px; }
    label { font-weight: 600; margin-bottom: 4px; }
    input, select, textarea { padding: 10px 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px; width: 100%; box-sizing: border-box; }
    input:focus, select:focus, textarea:focus { outline: none; border-color: #0a58ca; box-shadow: 0 0 4px rgba(10,88,202,0.3); }
    .submit-btn { background-color: #0a58ca; color: #fff; border: none; padding: 12px; border-radius: 8px; font-size: 16px; cursor: pointer; font-weight: 600; transition: background 0.3s; }
    .submit-btn:hover { background-color: #084298; }
    .muted { font-size: 12px; color: #666; text-align: center; }
    @media(max-width: 640px){ main { margin: 16px; padding: 24px; } }
  </style>
</head>
<body>
  <header>
    <div>
      <button type="button" onclick="history.back()">â¬… Back</button>
      <strong style="margin-left:8px;">CampusQuest ðŸŽ“</strong>
    </div>
    <nav>
      <a href="colleges.html">Colleges</a> Â·
      <a href="career.html">Careers</a> Â·
      <a href="location.html">Change Location</a>
    </nav>
  </header>

  <main>
    <h1>College Signup</h1>
    <form id="collegeSignupForm">
      <!-- College Basic Info -->
      <div>
        <label for="collegeName">College Name*</label>
        <input type="text" id="collegeName" name="collegeName" required placeholder="Enter your college name">
      </div>

      <div>
        <label for="location">Location*</label>
        <input type="text" id="location" name="location" required placeholder="City, State, Country">
      </div>

      <div>
        <label for="type">Type*</label>
        <select id="type" name="type" required>
          <option value="">Select type</option>
          <option value="Public">Public</option>
          <option value="Private">Private</option>
          <option value="Deemed">Deemed</option>
        </select>
      </div>

      <div>
        <label for="established">Year Established*</label>
        <input type="number" id="established" name="established" required placeholder="e.g., 1965" min="1800" max="2025">
      </div>

      <div>
        <label for="email">Official Email*</label>
        <input type="email" id="email" name="email" required placeholder="example@college.edu">
      </div>

      <div>
        <label for="about">About College</label>
        <textarea id="about" name="about" rows="4" placeholder="Brief description of college"></textarea>
      </div>

      <div>
        <label for="programs">Programs Offered*</label>
        <input type="text" id="programs" name="programs" required placeholder="Separate with commas">
      </div>

      <div>
        <label for="website">Official Website</label>
        <input type="url" id="website" name="website" placeholder="https://www.college.edu">
      </div>

      <!-- Fees & Placement -->
      <div>
        <label for="fees">Fees Details*</label>
        <input type="text" id="fees" name="fees" required placeholder="Enter fees details">
      </div>
      <div>
        <label for="highestPackage">Highest Package (LPA)*</label>
        <input type="number" id="highestPackage" name="highestPackage" required placeholder="e.g., 35">
      </div>
      <div>
        <label for="averagePackage">Average Package (LPA)*</label>
        <input type="number" id="averagePackage" name="averagePackage" required placeholder="e.g., 12">
      </div>
      <div>
        <label for="placements">Placement Details*</label>
        <textarea id="placements" name="placements" rows="3" placeholder="Placement statistics, top companies, etc."></textarea>
      </div>

      <!-- Faculty & Rules -->
      <div>
        <label for="faculty">Faculty Coordination Details*</label>
        <textarea id="faculty" name="faculty" rows="3" placeholder="Key faculty, departments, coordination info"></textarea>
      </div>
      <div>
        <label for="rules">Rules & Regulations*</label>
        <textarea id="rules" name="rules" rows="3" placeholder="Important rules & regulations"></textarea>
      </div>

      <!-- College Images -->
      <div>
        <label for="image1">College Image 1*</label>
        <input type="file" id="image1" accept="image/*" required>
      </div>
      <div>
        <label for="image2">College Image 2</label>
        <input type="file" id="image2" accept="image/*">
      </div>
      <div>
        <label for="image3">College Image 3</label>
        <input type="file" id="image3" accept="image/*">
      </div>

      <button type="submit" class="submit-btn">Sign Up College</button>
      <p class="muted">*All fields marked with * are mandatory.</p>
    </form>
  </main>

  <script>
    const form = document.getElementById('collegeSignupForm');

    function getImageBase64(fileInput){
      return new Promise((resolve, reject)=>{
        const file = fileInput.files[0];
        if(!file) return resolve(''); // return empty string if no file
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = error => reject(error);
        reader.readAsDataURL(file);
      });
    }

    form.addEventListener('submit', async e => {
      e.preventDefault();

      // Convert images to Base64
      const img1 = await getImageBase64(document.getElementById('image1'));
      const img2 = await getImageBase64(document.getElementById('image2'));
      const img3 = await getImageBase64(document.getElementById('image3'));

      // Collect form values
      const college = {
        name: document.getElementById('collegeName').value.trim(),
        location: document.getElementById('location').value.trim(),
        type: document.getElementById('type').value,
        established: document.getElementById('established').value,
        email: document.getElementById('email').value.trim(),
        about: document.getElementById('about').value.trim(),
        programs: document.getElementById('programs').value.trim(),
        website: document.getElementById('website').value.trim(),
        fees: document.getElementById('fees').value.trim(),
        highestPackage: document.getElementById('highestPackage').value.trim(),
        averagePackage: document.getElementById('averagePackage').value.trim(),
        placements: document.getElementById('placements').value.trim(),
        faculty: document.getElementById('faculty').value.trim(),
        rules: document.getElementById('rules').value.trim(),
        images: [img1, img2, img3] // save 3 images as Base64
      };

      // Save to localStorage
      let colleges = JSON.parse(localStorage.getItem('colleges')) || [];
      colleges.push(college);
      localStorage.setItem('colleges', JSON.stringify(colleges));

      alert('College signup submitted successfully! ðŸŽ‰');
      form.reset();

      // Redirect to dashboard
      window.location.href = "college-dashboard.html";
    });
  </script>
</body>
</html>
